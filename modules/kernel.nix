{
  flake.nixosModules.default =
    {
      config,
      pkgs,
      lib,
      ...
    }:
    let
      inherit (config.mobile) device;
    in
    {
      boot.kernelPackages = pkgs.linuxPackagesFor (
        device.kernel.override {
          ignoreConfigErrors = true;
        }
      );
      boot.kernelPatches =
        with lib.kernel;
        with whenHelpers device.kernel.version;
        {
          universal = {
            PREEMPT_VOLUNTARY_BUILD = yes;
            SCHED_CORE = yes;

            UCLAMP_TASK = yes;
            UCLAMP_BUCKETS_COUNT = freeform "5";
            UCLAMP_TASK_GROUP = yes;

            RELAY = yes;

            CFS_BANDWIDTH = yes;
            CGROUP_RDMA = yes;

            HZ_1000 = yes;
            HZ = freeform "1000";

            RCU_NOCB_CPU = yes;
            RCU_EXP_CPU_STALL_TIMEOUT = freeform "20";

            PANIC_TIMEOUT = freeform "5";
            DETECT_HUNG_TASK = yes;
            DEFAULT_HUNG_TASK_TIMEOUT = freeform "120";

            DEVFREQ_GOV_PERFORMANCE = yes;
            DEVFREQ_GOV_POWERSAVE = yes;
            DEVFREQ_GOV_PASSIVE = yes;

            STACKPROTECTOR_PER_TASK = yes;

            PKCS8_PRIVATE_KEY_PARSER = module;

            TEXTSEARCH = yes;

            ZSMALLOC = yes;
            ZSMALLOC_CHAIN_SIZE = freeform "8";

            UDMABUF = yes;
            DMABUF_HEAPS = yes;

            DAX = yes;

            FONT_8x8 = yes;
            FONT_8x16 = yes;

            SLAB_FREELIST_RANDOM = yes;
            LRU_GEN = yes;
            LRU_GEN_ENABLED = yes;

            CGROUP_NET_PRIO = yes;
            CGROUP_NET_CLASSID = yes;
            FIB_RULES = yes;
            WEXT_CORE = yes;
            WEXT_PROC = yes;
            CFG80211_WEXT = yes;

            FW_LOADER_COMPRESS_ZSTD = yes;
            ZSTD_COMPRESS = yes;

            CONNECTOR = yes;

            WIREGUARD = module;

            CONSOLE_LOGLEVEL_DEFAULT = freeform "4";
            CONSOLE_LOGLEVEL_QUIET = freeform "4";
            MESSAGE_LOGLEVEL_DEFAULT = freeform "7";
            STRIP_ASM_SYMS = yes;

            DRM = yes;
          };

          systemd = {
            # Kernel configuration as required by systemd
            # As of https://github.com/systemd/systemd/blob/4917c15af7c2dfe553b8e0dbf22b4fb7cec958de/README#L35
            CRYPTO_USER_API_HASH = yes;
            UEVENT_HELPER = no;
          };

          logo = {
            LOGO = lib.mkForce yes;
            FRAMEBUFFER_CONSOLE = yes;
            FRAMEBUFFER_CONSOLE_DEFERRED_TAKEOVER = lib.mkForce (whenAtLeast "4.19" no);
          };

          firewall = {
            NF_TABLES = yes;
            NF_TABLES_INET = yes;
          };

          sensors = {
            HID_SENSOR_HUB = whenAtLeast "3.7" module;
            HID_SENSOR_IIO_COMMON = whenAtLeast "3.7" module;
            HID_SENSOR_ACCEL_3D = whenAtLeast "3.8" module;
            HID_SENSOR_GYRO_3D = whenAtLeast "3.7" module;
            HID_SENSOR_HUMIDITY = whenAtLeast "4.12" module;
            HID_SENSOR_ALS = whenAtLeast "3.7" module;
            HID_SENSOR_PROX = whenAtLeast "3.15" module;
            HID_SENSOR_MAGNETOMETER_3D = whenAtLeast "3.7" module;
            HID_SENSOR_INCLINOMETER_3D = whenAtLeast "3.14" module;
            HID_SENSOR_DEVICE_ROTATION = whenAtLeast "3.16" module;
            HID_SENSOR_PRESS = whenAtLeast "3.15" module;
            HID_SENSOR_TEMP = whenAtLeast "4.12" module;
          };

          waydroid = {
            NFT_MASQ = whenAtLeast "3.18" module;
            NFT_NAT = whenAtLeast "3.13" module;

            # netd uses NFLOG
            NETFILTER_NETLINK_LOG = module;
            NETFILTER_XT_TARGET_NFLOG = module;
          };

          vpn = {
            XFRM = yes;
            XFRM_ALGO = yes;
            XFRM_USER = yes;
            IP_ROUTE_CLASSID = yes;
            SYN_COOKIES = yes;
            DEFAULT_TCP_CONG = freeform "cubic";
          };

          locks = {
            ARCH_INLINE_SPIN_TRYLOCK = yes;
            ARCH_INLINE_SPIN_TRYLOCK_BH = yes;
            ARCH_INLINE_SPIN_LOCK = yes;
            ARCH_INLINE_SPIN_LOCK_BH = yes;
            ARCH_INLINE_SPIN_LOCK_IRQ = yes;
            ARCH_INLINE_SPIN_LOCK_IRQSAVE = yes;
            ARCH_INLINE_SPIN_UNLOCK = yes;
            ARCH_INLINE_SPIN_UNLOCK_BH = yes;
            ARCH_INLINE_SPIN_UNLOCK_IRQ = yes;
            ARCH_INLINE_SPIN_UNLOCK_IRQRESTORE = yes;
            ARCH_INLINE_READ_LOCK = yes;
            ARCH_INLINE_READ_LOCK_BH = yes;
            ARCH_INLINE_READ_LOCK_IRQ = yes;
            ARCH_INLINE_READ_LOCK_IRQSAVE = yes;
            ARCH_INLINE_READ_UNLOCK = yes;
            ARCH_INLINE_READ_UNLOCK_BH = yes;
            ARCH_INLINE_READ_UNLOCK_IRQ = yes;
            ARCH_INLINE_READ_UNLOCK_IRQRESTORE = yes;
            ARCH_INLINE_WRITE_LOCK = yes;
            ARCH_INLINE_WRITE_LOCK_BH = yes;
            ARCH_INLINE_WRITE_LOCK_IRQ = yes;
            ARCH_INLINE_WRITE_LOCK_IRQSAVE = yes;
            ARCH_INLINE_WRITE_UNLOCK = yes;
            ARCH_INLINE_WRITE_UNLOCK_BH = yes;
            ARCH_INLINE_WRITE_UNLOCK_IRQ = yes;
            ARCH_INLINE_WRITE_UNLOCK_IRQRESTORE = yes;
            INLINE_SPIN_TRYLOCK = yes;
            INLINE_SPIN_TRYLOCK_BH = yes;
            INLINE_SPIN_LOCK = yes;
            INLINE_SPIN_LOCK_BH = yes;
            INLINE_SPIN_LOCK_IRQ = yes;
            INLINE_SPIN_LOCK_IRQSAVE = yes;
            INLINE_SPIN_UNLOCK_BH = yes;
            INLINE_SPIN_UNLOCK_IRQ = yes;
            INLINE_SPIN_UNLOCK_IRQRESTORE = yes;
            INLINE_READ_LOCK = yes;
            INLINE_READ_LOCK_BH = yes;
            INLINE_READ_LOCK_IRQ = yes;
            INLINE_READ_LOCK_IRQSAVE = yes;
            INLINE_READ_UNLOCK = yes;
            INLINE_READ_UNLOCK_BH = yes;
            INLINE_READ_UNLOCK_IRQ = yes;
            INLINE_READ_UNLOCK_IRQRESTORE = yes;
            INLINE_WRITE_LOCK = yes;
            INLINE_WRITE_LOCK_BH = yes;
            INLINE_WRITE_LOCK_IRQ = yes;
            INLINE_WRITE_LOCK_IRQSAVE = yes;
            INLINE_WRITE_UNLOCK = yes;
            INLINE_WRITE_UNLOCK_BH = yes;
            INLINE_WRITE_UNLOCK_IRQ = yes;
            INLINE_WRITE_UNLOCK_IRQRESTORE = yes;
          };

          # Diable default platforms
          no-platforms =
            let
              platforms = [
                "actions"
                "airoha"
                "sunxi"
                "alpine"
                "apple"
                "artpec"
                "axiado"
                "bcm"
                "bcm2835"
                "bcm_iproc"
                "bcmbca"
                "brcmstb"
                "berlin"
                "bitmain"
                "blaize"
                "cix"
                "exynos"
                "k3"
                "lg1k"
                "hisi"
                "keembay"
                "mediatek"
                "meson"
                "microchip"
                "lan969x"
                "sparx5"
                "mmp"
                "mvebu"
                "nxp"
                "layerscape"
                "mxc"
                "s32"
                "ma35"
                "npcm"
                "pensando"
                "qcom"
                "realtek"
                "renesas"
                "rockchip"
                "seattle"
                "intel_socfpga"
                "sophgo"
                "stm32"
                "synquacer"
                "tegra"
                "tesla_fsd"
                "sprd"
                "thunder"
                "thunder2"
                "uniphier"
                "vexpress"
                "visconti"
                "xgene"
                "zynqmp"
              ];
            in
            lib.genAttrs platforms (_: no)
            |> lib.concatMapAttrs (
              k: v: {
                "ARCH_${lib.toUpper k}" = lib.mkDefault v;
              }
            );

          # Massive list of modules to disable:
          # https://github.com/positron-solutions/derpconfig/blob/master/examples/patches.nix
          no-drivers =
            {
              VIRTUALIZATION = no; # I'd love to see someone run a vm on their phone, straight up unemployed behaviour
              HYPERV = no;
              XEN = no;

              SURFACE_PLATFORMS = no;
              FIREWIRE = no;
              MACINTOSH_DRIVERS = no;
              INFINIAND = no;
              ATM = no;
              SPEAKUP = no;
              RC_LOOPBACK = no;
              RC_ATI_REMOTE = no;
              RC_XBOX_DVD = no;

              RCU_REF_SCALE_TEST = no;
              SCF_TORTURE_TEST = no;
              TEST_LOCKUP = no;
              TEST_POWER = no;
              THERMAL_CORE_TESTING = no;

              X86_EXTENDED_PLATFORM = no;

              CPU_SUP_HYGON = unset;
              CPU_SUP_CENTAUR = unset;
              CPU_SUP_ZHAOXIN = unset;

              X86_INTEL_LPSS = no;

              INTEL_ATOMISP2_PM = no;
              INTEL_BYTCRC_PWRSRC = no;
              INTEL_CHTDC_TI_PWRBTN = no;
              INTEL_HFI_THERMAL = no;
              INTEL_HID_EVENT = no;
              INTEL_IDLE = no;
              INTEL_IDMA64 = no;
              INTEL_IDXD = no;
              INTEL_IDXD_COMPAT = no;
              INTEL_IFS = no;
              INTEL_INT0002_VGPIO = no;
              INTEL_IOATDMA = no;
              INTEL_IOMMU_DEFAULT_ON = no;
              INTEL_IOMMU_FLOPPY_WA = no;
              INTEL_IOMMU_PERF_EVENTS = no;
              INTEL_IOMMU_SCALABLE_MODE_DEFAULT_ON = no;
              INTEL_IOMMU_SVM = no;
              INTEL_IPS = no;
              INTEL_ISH_HID = no;
              INTEL_LDMA = no;
              INTEL_MEI = no;
              INTEL_OAKTRAIL = no;
              INTEL_OC_WATCHDOG = no;
              INTEL_PCH_THERMAL = no;
              INTEL_POWERCLAMP = no;
              INTEL_PUNIT_IPC = no;
              INTEL_RAPL = no;
              INTEL_RAPL_CORE = no;
              INTEL_RST = no;
              INTEL_SAR_INT1092 = no;
              INTEL_SCU_PCI = no;
              INTEL_SCU_PLATFORM = no;
              INTEL_SKL_INT3472 = no;
              INTEL_SMARTCONNECT = no;
              INTEL_SOC_DTS_THERMAL = no;
              INTEL_SOC_PMIC = no;
              INTEL_SOC_PMIC_CHTDC_TI = no;
              INTEL_SOC_PMIC_CHTWC = no;
              INTEL_SPEED_SELECT_INTERFACE = no;
              INTEL_TCC_COOLING = no;
              INTEL_TDX_GUEST = unset;
              INTEL_THC_HID = no;
              INTEL_TURBO_MAX_3 = no;
              INTEL_TXT = no;
              INTEL_UNCORE_FREQ_CONTROL = no;
              INTEL_VBTN = no;
              INTEL_VSEC = no;
              INTEL_WMI_SBL_FW_UPDATE = no;
              INTEL_WMI_THUNDERBOLT = no;

              X86_P4_CLOCKMOD = no;
              X86_SPEEDSTEP_CENTRINO = no;
              X86_MCE_INTEL = no;
              X86_SGX = no;
              X86_INTEL_PSTATE = unset;

              CPU_SUP_INTEL = unset;

              CRYPTO_842 = no;
              CRYPTO_LZ4 = no;
              CRYPTO_LZ4HC = no;
              CRYPTO_BLOWFISH = no;
              CRYPTO_BLOWFISH_X86_64 = no;
              CRYPTO_DES = no;
              CRYPTO_FCRYPT = no;
              CRYPTO_KHAZAD = no;
              CRYPTO_ANUBIS = no;
              CRYPTO_TEA = no;
              CRYPTO_TWOFISH = no;

              DEBUG_ATOMIC_SLEEP = no;
              DEBUG_CGROUP_REF = no;
              DEBUG_DEVRES = no;
              DEBUG_DRIVER = no;
              DEBUG_FORCE_FUNCTION_ALIGN_64B = no;
              DEBUG_FORCE_WEAK_PER_CPU = no;
              DEBUG_FS_ALLOW_NONE = no;
              DEBUG_FS_DISALLOW_MOUNT = no;
              DEBUG_GPIO = no;
              DEBUG_INFO_COMPRESSED_ZLIB = no;
              DEBUG_INFO_DWARF4 = no;
              DEBUG_INFO_DWARF5 = no;
              DEBUG_INFO_NONE = no;
              DEBUG_INFO_REDUCED = no;
              DEBUG_INFO_SPLIT = no;
              DEBUG_IRQFLAGS = no;
              DEBUG_KMAP_LOCAL_FORCE_MAP = no;
              DEBUG_KMEMLEAK = no;
              DEBUG_KOBJECT = no;
              DEBUG_LOCKING_API_SELFTESTS = no;
              DEBUG_LOCK_ALLOC = no;
              DEBUG_MAPLE_TREE = no;
              DEBUG_MUTEXES = no;
              DEBUG_NET = no;
              DEBUG_NET_SMALL_RTNL = no;
              DEBUG_NMI_SELFTEST = no;
              DEBUG_NOTIFIERS = no;
              DEBUG_OBJECTS = no;
              DEBUG_PAGEALLOC = no;
              DEBUG_PAGE_REF = no;
              DEBUG_PERF_USE_VMALLOC = no;
              DEBUG_PER_CPU_MAPS = no;
              DEBUG_PINCTRL = no;
              DEBUG_PLIST = no;
              DEBUG_PREEMPT = no;
              DEBUG_RODATA_TEST = no;
              DEBUG_RSEQ = no;
              DEBUG_RT_MUTEXES = no;
              DEBUG_RWSEMS = no;
              DEBUG_SG = no;
              DEBUG_SHIRQ = no;
              DEBUG_SPINLOCK = no;
              DEBUG_STACK_USAGE = no;
              DEBUG_TEST_DRIVER_REMOVE = no;
              DEBUG_TLBFLUSH = no;
              DEBUG_VFS = no;
              DEBUG_VIRTUAL = no;
              DEBUG_VM = no;
              DEBUG_VM_PGTABLE = no;
              DEBUG_WQ_FORCE_RR_CPU = no;
              DEBUG_WW_MUTEX_SLOWPATH = no;

              X86_MCE_INJECT = no;

              GPIB = no;
              GPIO_74X164 = no;
              GPIO_74XX_MMIO = no;
              GPIO_ADNP = no;
              GPIO_AGGREGATOR = no;
              GPIO_ALTERA = no;
              GPIO_AMD8111 = no;
              GPIO_AMDPT = no;
              GPIO_CADENCE = no;
              GPIO_CRYSTAL_COVE = no;
              GPIO_DS4520 = no;
              GPIO_DWAPB = no;
              GPIO_ELKHARTLAKE = no;
              GPIO_F7188X = no;
              GPIO_FTGPIO010 = no;
              GPIO_FXL6408 = no;
              GPIO_GENERIC_PLATFORM = no;
              GPIO_GRANITERAPIDS = no;
              GPIO_GRGPIO = no;
              GPIO_GW_PLD = no;
              GPIO_HLWD = no;
              GPIO_IT87 = no;
              GPIO_LATCH = no;
              GPIO_LOGICVC = no;
              GPIO_MAX3191X = no;
              GPIO_MAX7300 = no;
              GPIO_MAX7301 = no;
              GPIO_MAX732X = no;
              GPIO_MB86S7X = no;
              GPIO_MC33880 = no;
              GPIO_ML_IOH = no;
              GPIO_MOCKUP = no;
              GPIO_MPSSE = no;
              GPIO_PCIE_IDIO_24 = no;
              GPIO_PCI_IDIO_16 = no;
              GPIO_PISOSR = no;
              GPIO_POLARFIRE_SOC = no;
              GPIO_RDC321X = no;
              GPIO_SCH311X = no;
              GPIO_SIFIVE = no;
              GPIO_SIM = no;
              GPIO_SLOPPY_LOGIC_ANALYZER = no;
              GPIO_SODAVILLE = no;
              GPIO_SYSFS = no;
              GPIO_TPIC2810 = no;
              GPIO_VIRTUSER = no;
              GPIO_VX855 = no;
              GPIO_WATCHDOG = no;
              GPIO_WINBOND = no;
              GPIO_WS16C48 = no;
              GPIO_XILINX = no;
              GPIO_XRA1403 = no;

              IR_IMON_DECODER = no;
              IR_JVC_DECODER = no;
              IR_MCE_KBD_DECODER = no;
              IR_NEC_DECODER = no;
              IR_RC5_DECODER = no;
              IR_RC6_DECODER = no;
              IR_RCMM_DECODER = no;
              IR_SANYO_DECODER = no;
              IR_SHARP_DECODER = no;
              IR_SONY_DECODER = no;
              IR_XMP_DECODER = no;
              IR_ENE = no;
              IR_FINTEK = no;
              IR_GPIO_CIR = no;
              IR_GPIO_TX = no;
              IR_HIX5HD2 = no;
              IR_IGORPLUGUSB = no;
              IR_IGUANA = no;
              IR_IMON = no;
              IR_IMON_RAW = no;
              IR_ITE_CIR = no;
              IR_MCEUSB = no;
              IR_NUVOTON = no;
              IR_PWM_TX = no;
              IR_REDRAT3 = no;
              IR_SERIAL = no;
              IR_SPI = no;
              IR_STREAMZAP = no;
              IR_TOY = no;
              IR_TTUSBIR = no;
              IR_WINBOND_CIR = no;

              MEDIA_ANALOG_TV_SUPPORT = no;
              MEDIA_ATTACH = no;
              MEDIA_CEC_RC = no;
              MEDIA_DIGITAL_TV_SUPPORT = no;
              MEDIA_PCI_SUPPORT = no;
              MEDIA_RADIO_SUPPORT = no;
              MEDIA_SDR_SUPPORT = no;
              MEDIA_TEST_SUPPORT = no;
              MEDIA_TUNER = no;

              MFD_ACT8945A = no;
              MFD_SMPRO = no;
              MFD_AS3722 = no;
              MFD_ATMEL_FLEXCOM = no;
              MFD_ATMEL_HLCDC = no;
              MFD_BCM590XX = no;
              MFD_BD9571MWV = no;
              MFD_AXP20X_I2C = no;
              MFD_CGBC = no;
              MFD_CS42L43_I2C = no;
              MFD_CS42L43_SDW = no;
              MFD_MADERA = no;
              MFD_MAX5970 = no;
              MFD_DA9062 = no;
              MFD_DA9063 = no;
              MFD_DA9150 = no;
              MFD_DLN2 = no;
              MFD_GATEWORKS_GSC = no;
              MFD_MC13XXX_SPI = no;
              MFD_MC13XXX_I2C = no;
              MFD_MP2629 = no;
              MFD_HI6421_PMIC = no;
              MFD_INTEL_QUARK_I2C_GPIO = no;
              MFD_INTEL_LPSS_ACPI = no;
              MFD_INTEL_LPSS_PCI = no;
              MFD_INTEL_PMC_BXT = no;
              MFD_IQS62X = no;
              MFD_JANZ_CMODIO = no;
              MFD_KEMPLD = no;
              MFD_88PM800 = no;
              MFD_88PM805 = no;
              MFD_MAX14577 = no;
              MFD_MAX77541 = no;
              MFD_MAX77620 = no;
              MFD_MAX77650 = no;
              MFD_MAX77686 = no;
              MFD_MAX77693 = no;
              MFD_MAX77705 = no;
              MFD_MAX77714 = no;
              MFD_MAX77759 = no;
              MFD_MAX8907 = no;
              MFD_MT6360 = no;
              MFD_MT6370 = no;
              MFD_MT6397 = no;
              MFD_MENF21BMC = no;
              MFD_OCELOT = no;
              MFD_CPCAP = no;
              MFD_VIPERBOARD = no;
              MFD_NTXEC = no;
              MFD_RETU = no;
              MFD_SY7636A = no;
              MFD_RDC321X = no;
              MFD_RT4831 = no;
              MFD_RT5033 = no;
              MFD_RT5120 = no;
              MFD_RK8XX_I2C = no;
              MFD_RK8XX_SPI = no;
              MFD_RN5T618 = no;
              MFD_SEC_I2C = no;
              MFD_SI476X_CORE = no;
              MFD_SM501 = no;
              MFD_SKY81452 = no;
              MFD_LP3943 = no;
              MFD_TI_LMU = no;
              MFD_PALMAS = no;
              MFD_TPS65217 = no;
              MFD_TI_LP873X = no;
              MFD_TI_LP87565 = no;
              MFD_TPS65218 = no;
              MFD_TPS65219 = no;
              MFD_TPS65912_I2C = no;
              MFD_TPS65912_SPI = no;
              MFD_TPS6594_I2C = no;
              MFD_TPS6594_SPI = no;
              MFD_WL1273_CORE = no;
              MFD_LM3533 = no;
              MFD_TQMX86 = no;
              MFD_VX855 = no;
              MFD_ARIZONA_I2C = no;
              MFD_ARIZONA_SPI = no;
              MFD_WM8994 = no;
              MFD_ROHM_BD718XX = no;
              MFD_ROHM_BD71828 = no;
              MFD_ROHM_BD957XMUF = no;
              MFD_ROHM_BD96801 = no;
              MFD_STPMIC1 = no;
              MFD_ATC260X_I2C = no;
              MFD_QCOM_PM8008 = no;
              MFD_CS40L50_I2C = no;
              MFD_CS40L50_SPI = no;
              MFD_INTEL_M10_BMC_SPI = no;
              MFD_QNAP_MCU = no;
              MFD_RSMU_I2C = no;
              MFD_RSMU_SPI = no;
              MFD_UPBOARD_FPGA = no;

              NET_VENDOR_AMD = no;
              NET_VENDOR_CISCO = no;
              NET_VENDOR_EMULEX = unset;
              NET_VENDOR_INTEL = no;
              NET_VENDOR_3COM = no;
              NET_VENDOR_ADAPTEC = no;
              NET_VENDOR_ADI = no;
              NET_VENDOR_AGERE = no;
              NET_VENDOR_ALACRITECH = no;
              NET_VENDOR_ALTEON = no;
              NET_VENDOR_AMAZON = no;
              NET_VENDOR_AQUANTIA = no;
              NET_VENDOR_ARC = no;
              NET_VENDOR_ASIX = no;
              NET_VENDOR_ATHEROS = no;
              NET_VENDOR_BROADCOM = no;
              NET_VENDOR_BROCADE = no;
              NET_VENDOR_CADENCE = no;
              NET_VENDOR_CAVIUM = no;
              NET_VENDOR_CHELSIO = no;
              NET_VENDOR_CORTINA = no;
              NET_VENDOR_DAVICOM = no;
              NET_VENDOR_DEC = no;
              NET_VENDOR_DLINK = no;
              NET_VENDOR_ENGLEDER = no;
              NET_VENDOR_EZCHIP = no;
              NET_VENDOR_FUNGIBLE = no;
              NET_VENDOR_GOOGLE = no;
              NET_VENDOR_HISILICON = no;
              NET_VENDOR_HUAWEI = no;
              NET_VENDOR_I825XX = unset;
              NET_VENDOR_LITEX = no;
              NET_VENDOR_MARVELL = no;
              NET_VENDOR_MELLANOX = no; # TODO wut??
              NET_VENDOR_META = no;
              NET_VENDOR_MICREL = no;
              NET_VENDOR_MICROCHIP = no;
              NET_VENDOR_MICROSEMI = no;
              NET_VENDOR_MICROSOFT = no;
              NET_VENDOR_MYRI = no;
              NET_VENDOR_NATSEMI = no;
              NET_VENDOR_NETERION = no;
              NET_VENDOR_NETRONOME = no;
              NET_VENDOR_NI = no;
              NET_VENDOR_NVIDIA = no;
              NET_VENDOR_OKI = no;
              NET_VENDOR_PACKET_ENGINES = no;
              NET_VENDOR_PENSANDO = no;
              NET_VENDOR_QLOGIC = no;
              NET_VENDOR_QUALCOMM = no;
              NET_VENDOR_RDC = no;
              NET_VENDOR_REALTEK = no;
              NET_VENDOR_RENESAS = no;
              NET_VENDOR_ROCKER = no;
              NET_VENDOR_SAMSUNG = no;
              NET_VENDOR_SEEQ = no;
              NET_VENDOR_SILAN = no;
              NET_VENDOR_SIS = no;
              NET_VENDOR_SMSC = no;
              NET_VENDOR_SOCIONEXT = no;
              NET_VENDOR_SOLARFLARE = no;
              NET_VENDOR_STMICRO = no;
              NET_VENDOR_SUN = no;
              NET_VENDOR_SYNOPSYS = no;
              NET_VENDOR_TEHUTI = no;
              NET_VENDOR_TI = no;
              NET_VENDOR_VERTEXCOM = no;
              NET_VENDOR_VIA = no;
              NET_VENDOR_WANGXUN = no;
              NET_VENDOR_WIZNET = no;
              NET_VENDOR_XILINX = no;

              REGULATOR_88PG86X = no;
              REGULATOR_88PM800 = no;
              REGULATOR_ACT8865 = no;
              REGULATOR_ACT8945A = no;
              REGULATOR_AD5398 = no;
              REGULATOR_ADP5055 = no;
              REGULATOR_ARIZONA_LDO1 = no;
              REGULATOR_ARIZONA_MICSUPP = no;
              REGULATOR_AS3722 = no;
              REGULATOR_ATC260X = no;
              REGULATOR_AW37503 = no;
              REGULATOR_AXP20X = no;
              REGULATOR_BCM590XX = no;
              REGULATOR_BD71815 = no;
              REGULATOR_BD71828 = no;
              REGULATOR_BD718XX = no;
              REGULATOR_BD9571MWV = no;
              REGULATOR_BD957XMUF = no;
              REGULATOR_BD96801 = no;
              REGULATOR_CPCAP = no;
              REGULATOR_CROS_EC = no;
              REGULATOR_DA9062 = no;
              REGULATOR_DA9063 = no;
              REGULATOR_DA9121 = no;
              REGULATOR_DA9210 = no;
              REGULATOR_DA9211 = no;
              REGULATOR_FAN53555 = no;
              REGULATOR_FAN53880 = no;
              REGULATOR_GPIO = no;
              REGULATOR_HI6421 = no;
              REGULATOR_HI6421V530 = no;
              REGULATOR_HI6421V600 = no;
              REGULATOR_ISL6271A = no;
              REGULATOR_ISL9305 = no;
              REGULATOR_LM363X = no;
              REGULATOR_LP3971 = no;
              REGULATOR_LP3972 = no;
              REGULATOR_LP872X = no;
              REGULATOR_LP873X = no;
              REGULATOR_LP8755 = no;
              REGULATOR_LP87565 = no;
              REGULATOR_LTC3589 = no;
              REGULATOR_LTC3676 = no;
              REGULATOR_MAX14577 = no;
              REGULATOR_MAX1586 = no;
              REGULATOR_MAX20086 = no;
              REGULATOR_MAX20411 = no;
              REGULATOR_MAX5970 = no;
              REGULATOR_MAX77503 = no;
              REGULATOR_MAX77541 = no;
              REGULATOR_MAX77620 = no;
              REGULATOR_MAX77650 = no;
              REGULATOR_MAX77686 = no;
              REGULATOR_MAX77693 = no;
              REGULATOR_MAX77802 = no;
              REGULATOR_MAX77826 = no;
              REGULATOR_MAX77857 = no;
              REGULATOR_MAX8649 = no;
              REGULATOR_MAX8660 = no;
              REGULATOR_MAX8893 = no;
              REGULATOR_MAX8907 = no;
              REGULATOR_MAX8952 = no;
              REGULATOR_MAX8973 = no;
              REGULATOR_MC13783 = no;
              REGULATOR_MC13892 = no;
              REGULATOR_MC13XXX_CORE = no;
              REGULATOR_MCP16502 = no;
              REGULATOR_MP5416 = no;
              REGULATOR_MP8859 = no;
              REGULATOR_MP886X = no;
              REGULATOR_MPQ7920 = no;
              REGULATOR_MT6311 = no;
              REGULATOR_MT6315 = no;
              REGULATOR_MT6323 = no;
              REGULATOR_MT6331 = no;
              REGULATOR_MT6332 = no;
              REGULATOR_MT6357 = no;
              REGULATOR_MT6358 = no;
              REGULATOR_MT6359 = no;
              REGULATOR_MT6360 = no;
              REGULATOR_MT6370 = no;
              REGULATOR_MT6397 = no;
              REGULATOR_PALMAS = no;
              REGULATOR_PCA9450 = no;
              REGULATOR_PF8X00 = no;
              REGULATOR_PF9453 = no;
              REGULATOR_PFUZE100 = no;
              REGULATOR_PV88060 = no;
              REGULATOR_PV88080 = no;
              REGULATOR_PV88090 = no;
              REGULATOR_PWM = no;
              REGULATOR_QCOM_LABIBB = no;
              REGULATOR_QCOM_PM8008 = no;
              REGULATOR_QCOM_SPMI = no;
              REGULATOR_QCOM_USB_VBUS = no;
              REGULATOR_RAA215300 = no;
              REGULATOR_RASPBERRYPI_TOUCHSCREEN_ATTINY = no;
              REGULATOR_RK808 = no;
              REGULATOR_RN5T618 = no;
              REGULATOR_ROHM = no;
              REGULATOR_RT4801 = no;
              REGULATOR_RT4803 = no;
              REGULATOR_RT4831 = no;
              REGULATOR_RT5033 = no;
              REGULATOR_RT5120 = no;
              REGULATOR_RT5190A = no;
              REGULATOR_RT5739 = no;
              REGULATOR_RT5759 = no;
              REGULATOR_RT6160 = no;
              REGULATOR_RT6190 = no;
              REGULATOR_RT6245 = no;
              REGULATOR_RTMV20 = no;
              REGULATOR_RTQ2134 = no;
              REGULATOR_RTQ2208 = no;
              REGULATOR_RTQ6752 = no;
              REGULATOR_S2MPA01 = no;
              REGULATOR_S2MPS11 = no;
              REGULATOR_S5M8767 = no;
              REGULATOR_SKY81452 = no;
              REGULATOR_SLG51000 = no;
              REGULATOR_STPMIC1 = no;
              REGULATOR_SY7636A = no;
              REGULATOR_SY8106A = no;
              REGULATOR_SY8824X = no;
              REGULATOR_SY8827N = no;
              REGULATOR_TPS51632 = no;
              REGULATOR_TPS6105X = no;
              REGULATOR_TPS62360 = no;
              REGULATOR_TPS6286X = no;
              REGULATOR_TPS6287X = no;
              REGULATOR_TPS65023 = no;
              REGULATOR_TPS6507X = no;
              REGULATOR_TPS65086 = no;
              REGULATOR_TPS65132 = no;
              REGULATOR_TPS65217 = no;
              REGULATOR_TPS65218 = no;
              REGULATOR_TPS65219 = no;
              REGULATOR_TPS6524X = no;
              REGULATOR_TPS65912 = no;
              REGULATOR_TPS6594 = no;
              REGULATOR_TPS68470 = no;
              REGULATOR_USERSPACE_CONSUMER = no;
              REGULATOR_VCTRL = no;
              REGULATOR_VIRTUAL_CONSUMER = no;
              REGULATOR_WM8994 = no;

              RTC_DRV_TEST = no;
              RTC_DRV_ABB5ZES3 = no;
              RTC_DRV_ABEOZ9 = no;
              RTC_DRV_ABX80X = no;
              RTC_DRV_DS1307 = no;
              RTC_DRV_DS1374 = no;
              RTC_DRV_DS1672 = no;
              RTC_DRV_HYM8563 = no;
              RTC_DRV_MAX6900 = no;
              RTC_DRV_MAX31335 = no;
              RTC_DRV_NCT3018Y = no;
              RTC_DRV_RS5C372 = no;
              RTC_DRV_ISL1208 = no;
              RTC_DRV_ISL12022 = no;
              RTC_DRV_ISL12026 = no;
              RTC_DRV_X1205 = no;
              RTC_DRV_PCF8523 = no;
              RTC_DRV_PCF85063 = no;
              RTC_DRV_PCF85363 = no;
              RTC_DRV_PCF8563 = no;
              RTC_DRV_PCF8583 = no;
              RTC_DRV_M41T80 = no;
              RTC_DRV_BQ32K = no;
              RTC_DRV_S35390A = no;
              RTC_DRV_FM3130 = no;
              RTC_DRV_RX8010 = no;
              RTC_DRV_RX8111 = no;
              RTC_DRV_RX8581 = no;
              RTC_DRV_RX8025 = no;
              RTC_DRV_EM3027 = no;
              RTC_DRV_RV3028 = no;
              RTC_DRV_RV3032 = no;
              RTC_DRV_RV8803 = no;
              RTC_DRV_SD2405AL = no;
              RTC_DRV_SD3078 = no;
              RTC_DRV_M41T93 = no;
              RTC_DRV_M41T94 = no;
              RTC_DRV_DS1302 = no;
              RTC_DRV_DS1305 = no;
              RTC_DRV_DS1343 = no;
              RTC_DRV_DS1347 = no;
              RTC_DRV_DS1390 = no;
              RTC_DRV_MAX6916 = no;
              RTC_DRV_R9701 = no;
              RTC_DRV_RX4581 = no;
              RTC_DRV_RS5C348 = no;
              RTC_DRV_MAX6902 = no;
              RTC_DRV_PCF2123 = no;
              RTC_DRV_MCP795 = no;
              RTC_DRV_DS3232 = no;
              RTC_DRV_PCF2127 = no;
              RTC_DRV_RV3029C2 = no;
              RTC_DRV_RX6110 = no;
              RTC_DRV_DS1286 = no;
              RTC_DRV_DS1511 = no;
              RTC_DRV_DS1553 = no;
              RTC_DRV_DS1685_FAMILY = no;
              RTC_DRV_DS1742 = no;
              RTC_DRV_DS2404 = no;
              RTC_DRV_STK17TA8 = no;
              RTC_DRV_M48T86 = no;
              RTC_DRV_M48T35 = no;
              RTC_DRV_M48T59 = no;
              RTC_DRV_MSM6242 = no;
              RTC_DRV_RP5C01 = no;
              RTC_DRV_ZYNQMP = no;
              RTC_DRV_CADENCE = no;
              RTC_DRV_FTRTC010 = no;
              RTC_DRV_R7301 = no;
              RTC_DRV_GOLDFISH = no;

              SENSORS_APDS990X = no;
              SENSORS_BH1770 = no;
              SENSORS_HDAPS = no;
              SENSORS_LIS3_I2C = no;
              SENSORS_TSL2550 = no;
              SENSORS_ABITUGURU = no;
              SENSORS_ABITUGURU3 = no;
              SENSORS_AD7314 = no;
              SENSORS_AD7414 = no;
              SENSORS_AD7418 = no;
              SENSORS_ADM1025 = no;
              SENSORS_ADM1026 = no;
              SENSORS_ADM1029 = no;
              SENSORS_ADM1031 = no;
              SENSORS_ADM1177 = no;
              SENSORS_ADM9240 = no;
              SENSORS_ADT7310 = no;
              SENSORS_ADT7410 = no;
              SENSORS_ADT7411 = no;
              SENSORS_ADT7462 = no;
              SENSORS_ADT7470 = no;
              SENSORS_ADT7475 = no;
              SENSORS_AHT10 = no;
              SENSORS_AQUACOMPUTER_D5NEXT = no;
              SENSORS_AS370 = no;
              SENSORS_ASC7621 = no;
              SENSORS_ASUS_ROG_RYUJIN = no;
              SENSORS_AXI_FAN_CONTROL = no;
              SENSORS_K8TEMP = no;
              SENSORS_FAM15H_POWER = no;
              SENSORS_APPLESMC = no;
              SENSORS_ASB100 = no;
              SENSORS_ATXP1 = no;
              SENSORS_CHIPCAP2 = no;
              SENSORS_CORSAIR_CPRO = no;
              SENSORS_CORSAIR_PSU = no;
              SENSORS_DS620 = no;
              SENSORS_DS1621 = no;
              SENSORS_DELL_SMM = no;
              SENSORS_I5K_AMB = no;
              SENSORS_F71805F = no;
              SENSORS_F71882FG = no;
              SENSORS_F75375S = no;
              SENSORS_FSCHMD = no;
              SENSORS_FTSTEUTATES = no;
              SENSORS_GIGABYTE_WATERFORCE = no;
              SENSORS_GL518SM = no;
              SENSORS_GL520SM = no;
              SENSORS_G760A = no;
              SENSORS_G762 = no;
              SENSORS_GPIO_FAN = no;
              SENSORS_HIH6130 = no;
              SENSORS_HS3001 = no;
              SENSORS_HTU31 = no;
              SENSORS_I5500 = no;
              SENSORS_CORETEMP = no;
              SENSORS_ISL28022 = no;
              SENSORS_IT87 = no;
              SENSORS_JC42 = no;
              SENSORS_POWERZ = no;
              SENSORS_POWR1220 = no;
              SENSORS_LENOVO_EC = no;
              SENSORS_LINEAGE = no;
              SENSORS_LTC2945 = no;
              SENSORS_LTC2947_I2C = no;
              SENSORS_LTC2947_SPI = no;
              SENSORS_LTC2990 = no;
              SENSORS_LTC2991 = no;
              SENSORS_LTC2992 = no;
              SENSORS_LTC4151 = no;
              SENSORS_LTC4215 = no;
              SENSORS_LTC4222 = no;
              SENSORS_LTC4245 = no;
              SENSORS_LTC4260 = no;
              SENSORS_LTC4261 = no;
              SENSORS_LTC4282 = no;
              SENSORS_MAX1111 = no;
              SENSORS_MAX127 = no;
              SENSORS_MAX16065 = no;
              SENSORS_MAX1619 = no;
              SENSORS_MAX1668 = no;
              SENSORS_MAX197 = no;
              SENSORS_MAX31722 = no;
              SENSORS_MAX31730 = no;
              SENSORS_MAX31760 = no;
              SENSORS_MAX6620 = no;
              SENSORS_MAX6621 = no;
              SENSORS_MAX6639 = no;
              SENSORS_MAX6650 = no;
              SENSORS_MAX6697 = no;
              SENSORS_MAX31790 = no;
              SENSORS_MC34VR500 = no;
              SENSORS_MCP3021 = no;
              SENSORS_TC654 = no;
              SENSORS_TPS23861 = no;
              SENSORS_MR75203 = no;
              SENSORS_ADCXX = no;
              SENSORS_LM63 = no;
              SENSORS_LM70 = no;
              SENSORS_LM73 = no;
              SENSORS_LM75 = no;
              SENSORS_LM77 = no;
              SENSORS_LM78 = no;
              SENSORS_LM80 = no;
              SENSORS_LM83 = no;
              SENSORS_LM85 = no;
              SENSORS_LM87 = no;
              SENSORS_LM90 = no;
              SENSORS_LM92 = no;
              SENSORS_LM93 = no;
              SENSORS_LM95234 = no;
              SENSORS_LM95241 = no;
              SENSORS_LM95245 = no;
              SENSORS_PC87360 = no;
              SENSORS_PC87427 = no;
              SENSORS_NCT6683 = no;
              SENSORS_NCT6775 = no;
              SENSORS_NCT6775_I2C = no;
              SENSORS_NCT7363 = no;
              SENSORS_NCT7802 = no;
              SENSORS_NCT7904 = no;
              SENSORS_NPCM7XX = no;
              SENSORS_NZXT_KRAKEN2 = no;
              SENSORS_NZXT_KRAKEN3 = no;
              SENSORS_NZXT_SMART2 = no;
              SENSORS_OCC_P8_I2C = no;
              SENSORS_PCF8591 = no;
              SENSORS_PT5161L = no;
              SENSORS_PWM_FAN = no;
              SENSORS_SBTSI = no;
              SENSORS_SHT15 = no;
              SENSORS_SHT21 = no;
              SENSORS_SHT3x = no;
              SENSORS_SHT4x = no;
              SENSORS_SHTC1 = no;
              SENSORS_SIS5595 = no;
              SENSORS_DME1737 = no;
              SENSORS_EMC1403 = no;
              SENSORS_EMC2103 = no;
              SENSORS_EMC2305 = no;
              SENSORS_EMC6W201 = no;
              SENSORS_SMSC47M1 = no;
              SENSORS_SMSC47M192 = no;
              SENSORS_SMSC47B397 = no;
              SENSORS_SCH5627 = no;
              SENSORS_SCH5636 = no;
              SENSORS_STTS751 = no;
              SENSORS_ADC128D818 = no;
              SENSORS_ADS7828 = no;
              SENSORS_ADS7871 = no;
              SENSORS_AMC6821 = no;
              SENSORS_INA209 = no;
              SENSORS_INA2XX = no;
              SENSORS_INA238 = no;
              SENSORS_INA3221 = no;
              SENSORS_SPD5118 = no;
              SENSORS_TC74 = no;
              SENSORS_THMC50 = no;
              SENSORS_TMP102 = no;
              SENSORS_TMP103 = no;
              SENSORS_TMP108 = no;
              SENSORS_TMP401 = no;
              SENSORS_TMP421 = no;
              SENSORS_TMP464 = no;
              SENSORS_TMP513 = no;
              SENSORS_VIA_CPUTEMP = no;
              SENSORS_VIA686A = no;
              SENSORS_VT1211 = no;
              SENSORS_VT8231 = no;
              SENSORS_W83773G = no;
              SENSORS_W83781D = no;
              SENSORS_W83791D = no;
              SENSORS_W83792D = no;
              SENSORS_W83793 = no;
              SENSORS_W83795 = no;
              SENSORS_W83L785TS = no;
              SENSORS_W83L786NG = no;
              SENSORS_W83627HF = no;
              SENSORS_W83627EHF = no;
              SENSORS_XGENE = no;
              SENSORS_ACPI_POWER = no;
              SENSORS_ATK0110 = no;
              SENSORS_ASUS_WMI = no;
              SENSORS_ASUS_EC = no;
              SENSORS_HP_WMI = no;

              SND_AD1889 = no;
              SND_ALI5451 = no;
              SND_ALOOP = no;
              SND_ALS300 = no;
              SND_AMD_ASOC_ACP63 = no;
              SND_AMD_ASOC_ACP70 = no;
              SND_AMD_ASOC_REMBRANDT = no;
              SND_AMD_ASOC_RENOIR = no;
              SND_ASIHPI = no;
              SND_ATIIXP = no;
              SND_ATIIXP_MODEM = no;
              SND_ATMEL_SOC = no;
              SND_AU8810 = no;
              SND_AU8820 = no;
              SND_AU8830 = no;
              SND_AUDIO_GRAPH_CARD = no;
              SND_AUDIO_GRAPH_CARD2 = no;
              SND_AW2 = no;
              SND_AZT3328 = no;
              SND_BCD2000 = no;
              SND_BCM63XX_I2S_WHISTLER = no;
              SND_BT87X = no;
              SND_CA0106 = no;
              SND_CMIPCI = no;
              SND_CS4281 = no;
              SND_CS46XX = no;
              SND_CTXFI = no;
              SND_DARLA20 = no;
              SND_DARLA24 = no;
              SND_DESIGNWARE_I2S = no;
              SND_DUMMY = no;
              SND_ECHO3G = no;
              SND_EMU10K1 = no;
              SND_EMU10K1X = no;
              SND_ENS1370 = no;
              SND_ENS1371 = no;
              SND_ES1938 = no;
              SND_ES1968 = no;
              SND_FM801 = no;
              SND_GINA20 = no;
              SND_GINA24 = no;
              SND_HDA_ACPI = no;
              SND_HDA_CODEC_ANALOG = no;
              SND_HDA_CODEC_CA0110 = no;
              SND_HDA_CODEC_CA0132 = no;
              SND_HDA_CODEC_CIRRUS = no;
              SND_HDA_CODEC_CMEDIA = no;
              SND_HDA_CODEC_CONEXANT = no;
              SND_HDA_CODEC_CS8409 = no;
              SND_HDA_CODEC_SENARYTECH = no;
              SND_HDA_CODEC_SI3054 = no;
              SND_HDA_CODEC_SIGMATEL = no;
              SND_HDA_CODEC_VIA = no;
              SND_HDA_SCODEC_CS35L41_I2C = no;
              SND_HDA_SCODEC_CS35L41_SPI = no;
              SND_HDA_SCODEC_CS35L56_I2C = no;
              SND_HDA_SCODEC_CS35L56_SPI = no;
              SND_HDA_SCODEC_TAS2781_I2C = no;
              SND_HDA_SCODEC_TAS2781_SPI = no;
              SND_HDSP = no;
              SND_HDSPM = no;
              SND_I2S_HI6210_I2S = no;
              SND_ICE1712 = no;
              SND_ICE1724 = no;
              SND_INDIGO = no;
              SND_INDIGODJ = no;
              SND_INDIGODJX = no;
              SND_INDIGOIO = no;
              SND_INDIGOIOX = no;
              SND_INTEL8X0 = no;
              SND_INTEL8X0M = no;
              SND_KORG1212 = no;
              SND_LAYLA20 = no;
              SND_LAYLA24 = no;
              SND_LOLA = no;
              SND_LX6464ES = no;
              SND_MAESTRO3 = no;
              SND_MIA = no;
              SND_MIXART = no;
              SND_MIXER_OSS = no;
              SND_MONA = no;
              SND_MPU401 = no;
              SND_MTPAV = no;
              SND_NM256 = no;
              SND_OXYGEN = no;
              SND_PCMTEST = no;
              SND_PCM_OSS = no;
              SND_PCSP = no;
              SND_PCXHR = no;
              SND_RIPTIDE = no;
              SND_RME32 = no;
              SND_RME96 = no;
              SND_RME9652 = no;
              SND_SE6X = no;
              SND_SEQUENCER_OSS = no;
              SND_SERIAL_GENERIC = no;
              SND_SERIAL_U16550 = no;
              SND_SIMPLE_CARD = no;
              SND_SOC_AC97_CODEC = no;
              SND_SOC_ADAU1372_I2C = no;
              SND_SOC_ADAU1372_SPI = no;
              SND_SOC_ADAU1373 = no;
              SND_SOC_ADAU1701 = no;
              SND_SOC_ADAU1761_I2C = no;
              SND_SOC_ADAU1761_SPI = no;
              SND_SOC_ADAU7002 = no;
              SND_SOC_ADAU7118_HW = no;
              SND_SOC_ADAU7118_I2C = no;
              SND_SOC_ADI = no;
              SND_SOC_AK4104 = no;
              SND_SOC_AK4118 = no;
              SND_SOC_AK4375 = no;
              SND_SOC_AK4458 = no;
              SND_SOC_AK4554 = no;
              SND_SOC_AK4613 = no;
              SND_SOC_AK4619 = no;
              SND_SOC_AK4642 = no;
              SND_SOC_AK5386 = no;
              SND_SOC_AK5558 = no;
              SND_SOC_ALC5623 = no;
              SND_SOC_AMD_ACP = no;
              SND_SOC_AMD_LEGACY_MACH = no;
              SND_SOC_AMD_LEGACY_SDW_MACH = no;
              SND_SOC_AMD_PS_MACH = no;
              SND_SOC_AMD_RENOIR_MACH = no;
              SND_SOC_AMD_SOF_MACH = no;
              SND_SOC_AMD_SOF_SDW_MACH = no;
              SND_SOC_AMD_SOUNDWIRE = no;
              SND_SOC_AMD_VANGOGH_MACH = no;
              SND_SOC_AMD_YC_MACH = no;
              SND_SOC_AW8738 = no;
              SND_SOC_AW87390 = no;
              SND_SOC_AW88081 = no;
              SND_SOC_AW88166 = no;
              SND_SOC_AW88261 = no;
              SND_SOC_AW88395 = no;
              SND_SOC_AW88399 = no;
              SND_SOC_BD28623 = no;
              SND_SOC_BT_SCO = no;
              SND_SOC_CHV3_CODEC = no;
              SND_SOC_CHV3_I2S = no;
              SND_SOC_CS35L32 = no;
              SND_SOC_CS35L33 = no;
              SND_SOC_CS35L34 = no;
              SND_SOC_CS35L35 = no;
              SND_SOC_CS35L36 = no;
              SND_SOC_CS35L41_I2C = no;
              SND_SOC_CS35L41_SPI = no;
              SND_SOC_CS35L45_I2C = no;
              SND_SOC_CS35L45_SPI = no;
              SND_SOC_CS35L56_I2C = no;
              SND_SOC_CS35L56_SDW = no;
              SND_SOC_CS35L56_SPI = no;
              SND_SOC_CS4234 = no;
              SND_SOC_CS4265 = no;
              SND_SOC_CS4270 = no;
              SND_SOC_CS4271_I2C = no;
              SND_SOC_CS4271_SPI = no;
              SND_SOC_CS42L42 = no;
              SND_SOC_CS42L42_SDW = no;
              SND_SOC_CS42L51_I2C = no;
              SND_SOC_CS42L52 = no;
              SND_SOC_CS42L56 = no;
              SND_SOC_CS42L73 = no;
              SND_SOC_CS42L83 = no;
              SND_SOC_CS42L84 = no;
              SND_SOC_CS42XX8_I2C = no;
              SND_SOC_CS43130 = no;
              SND_SOC_CS4341 = no;
              SND_SOC_CS4349 = no;
              SND_SOC_CS48L32 = no;
              SND_SOC_CS530X_I2C = no;
              SND_SOC_CS53L30 = no;
              SND_SOC_CX2072X = no;
              SND_SOC_DA7213 = no;
              SND_SOC_DMIC = no;
              SND_SOC_ES7134 = no;
              SND_SOC_ES7241 = no;
              SND_SOC_ES8311 = no;
              SND_SOC_ES8316 = no;
              SND_SOC_ES8323 = no;
              SND_SOC_ES8326 = no;
              SND_SOC_ES8328_I2C = no;
              SND_SOC_ES8328_SPI = no;
              SND_SOC_ES8375 = no;
              SND_SOC_ES8389 = no;
              SND_SOC_FSL_ASRC = no;
              SND_SOC_FSL_AUDMIX = no;
              SND_SOC_FSL_ESAI = no;
              SND_SOC_FSL_MICFIL = no;
              SND_SOC_FSL_SAI = no;
              SND_SOC_FSL_SPDIF = no;
              SND_SOC_FSL_SSI = no;
              SND_SOC_FSL_XCVR = no;
              SND_SOC_GTM601 = no;
              SND_SOC_HDA = no;
              SND_SOC_ICS43432 = no;
              SND_SOC_IDT821034 = no;
              SND_SOC_IMX_AUDMUX = no;
              SND_SOC_INTEL_AVS = no;
              SND_SOC_INTEL_CATPT = no;
              SND_SOC_LPASS_RX_MACRO = no;
              SND_SOC_LPASS_TX_MACRO = no;
              SND_SOC_LPASS_VA_MACRO = no;
              SND_SOC_LPASS_WSA_MACRO = no;
              SND_SOC_MAX98088 = no;
              SND_SOC_MAX98090 = no;
              SND_SOC_MAX98363 = no;
              SND_SOC_MAX98373_I2C = no;
              SND_SOC_MAX98373_SDW = no;
              SND_SOC_MAX98388 = no;
              SND_SOC_MAX98390 = no;
              SND_SOC_MAX98396 = no;
              SND_SOC_MAX98504 = no;
              SND_SOC_MAX98520 = no;
              SND_SOC_MAX9860 = no;
              SND_SOC_MAX9867 = no;
              SND_SOC_MAX98927 = no;
              SND_SOC_MSM8916_WCD_DIGITAL = no;
              SND_SOC_MT6351 = no;
              SND_SOC_MT6357 = no;
              SND_SOC_MT6358 = no;
              SND_SOC_MT6660 = no;
              SND_SOC_MTK_BTCVSD = no;
              SND_SOC_NAU8315 = no;
              SND_SOC_NAU8540 = no;
              SND_SOC_NAU8810 = no;
              SND_SOC_NAU8821 = no;
              SND_SOC_NAU8822 = no;
              SND_SOC_NAU8824 = no;
              SND_SOC_NTP8835 = no;
              SND_SOC_NTP8918 = no;
              SND_SOC_PCM1681 = no;
              SND_SOC_PCM1789_I2C = no;
              SND_SOC_PCM179X_I2C = no;
              SND_SOC_PCM179X_SPI = no;
              SND_SOC_PCM186X_I2C = no;
              SND_SOC_PCM186X_SPI = no;
              SND_SOC_PCM3060_I2C = no;
              SND_SOC_PCM3060_SPI = no;
              SND_SOC_PCM3168A_I2C = no;
              SND_SOC_PCM3168A_SPI = no;
              SND_SOC_PCM5102A = no;
              SND_SOC_PCM512x_I2C = no;
              SND_SOC_PCM512x_SPI = no;
              SND_SOC_PCM6240 = no;
              SND_SOC_PEB2466 = no;
              SND_SOC_RT1017_SDCA_SDW = no;
              SND_SOC_RT1308_SDW = no;
              SND_SOC_RT1316_SDW = no;
              SND_SOC_RT1318_SDW = no;
              SND_SOC_RT1320_SDW = no;
              SND_SOC_RT5616 = no;
              SND_SOC_RT5631 = no;
              SND_SOC_RT5640 = no;
              SND_SOC_RT5659 = no;
              SND_SOC_RT5682_SDW = no;
              SND_SOC_RT700_SDW = no;
              SND_SOC_RT711_SDCA_SDW = no;
              SND_SOC_RT711_SDW = no;
              SND_SOC_RT712_SDCA_DMIC_SDW = no;
              SND_SOC_RT712_SDCA_SDW = no;
              SND_SOC_RT715_SDCA_SDW = no;
              SND_SOC_RT715_SDW = no;
              SND_SOC_RT721_SDCA_SDW = no;
              SND_SOC_RT722_SDCA_SDW = no;
              SND_SOC_RT9120 = no;
              SND_SOC_RT9123 = no;
              SND_SOC_RT9123P = no;
              SND_SOC_RTQ9128 = no;
              SND_SOC_SDW_MOCKUP = no;
              SND_SOC_SGTL5000 = no;
              SND_SOC_SIMPLE_AMPLIFIER = no;
              SND_SOC_SIMPLE_MUX = no;
              SND_SOC_SMA1303 = no;
              SND_SOC_SMA1307 = no;
              SND_SOC_SOF_ACPI = no;
              SND_SOC_SOF_ALDERLAKE = no;
              SND_SOC_SOF_AMD_SOUNDWIRE = no;
              SND_SOC_SOF_APOLLOLAKE = no;
              SND_SOC_SOF_CANNONLAKE = no;
              SND_SOC_SOF_COFFEELAKE = no;
              SND_SOC_SOF_COMETLAKE = no;
              SND_SOC_SOF_ELKHARTLAKE = no;
              SND_SOC_SOF_GEMINILAKE = no;
              SND_SOC_SOF_ICELAKE = no;
              SND_SOC_SOF_JASPERLAKE = no;
              SND_SOC_SOF_KABYLAKE = no;
              SND_SOC_SOF_LUNARLAKE = no;
              SND_SOC_SOF_MERRIFIELD = no;
              SND_SOC_SOF_METEORLAKE = no;
              SND_SOC_SOF_OF = no;
              SND_SOC_SOF_PANTHERLAKE = no;
              SND_SOC_SOF_SKYLAKE = no;
              SND_SOC_SOF_TIGERLAKE = no;
              SND_SOC_SPDIF = no;
              SND_SOC_SRC4XXX_I2C = no;
              SND_SOC_SSM2305 = no;
              SND_SOC_SSM2518 = no;
              SND_SOC_SSM2602_I2C = no;
              SND_SOC_SSM2602_SPI = no;
              SND_SOC_SSM3515 = no;
              SND_SOC_SSM4567 = no;
              SND_SOC_STA32X = no;
              SND_SOC_STA350 = no;
              SND_SOC_STI_SAS = no;
              SND_SOC_TAS2552 = no;
              SND_SOC_TAS2562 = no;
              SND_SOC_TAS2764 = no;
              SND_SOC_TAS2770 = no;
              SND_SOC_TAS2780 = no;
              SND_SOC_TAS2781_I2C = no;
              SND_SOC_TAS5086 = no;
              SND_SOC_TAS571X = no;
              SND_SOC_TAS5720 = no;
              SND_SOC_TAS5805M = no;
              SND_SOC_TAS6424 = no;
              SND_SOC_TDA7419 = no;
              SND_SOC_TFA9879 = no;
              SND_SOC_TFA989X = no;
              SND_SOC_TLV320ADC3XXX = no;
              SND_SOC_TLV320ADCX140 = no;
              SND_SOC_TLV320AIC23_I2C = no;
              SND_SOC_TLV320AIC23_SPI = no;
              SND_SOC_TLV320AIC31XX = no;
              SND_SOC_TLV320AIC32X4_I2C = no;
              SND_SOC_TLV320AIC32X4_SPI = no;
              SND_SOC_TLV320AIC3X_I2C = no;
              SND_SOC_TLV320AIC3X_SPI = no;
              SND_SOC_TPA6130A2 = no;
              SND_SOC_TS3A227E = no;
              SND_SOC_TSCS42XX = no;
              SND_SOC_TSCS454 = no;
              SND_SOC_UDA1334 = no;
              SND_SOC_UDA1342 = no;
              SND_SOC_USB = no;
              SND_SOC_WCD937X_SDW = no;
              SND_SOC_WCD938X_SDW = no;
              SND_SOC_WCD939X_SDW = no;
              SND_SOC_WM8510 = no;
              SND_SOC_WM8523 = no;
              SND_SOC_WM8524 = no;
              SND_SOC_WM8580 = no;
              SND_SOC_WM8711 = no;
              SND_SOC_WM8728 = no;
              SND_SOC_WM8731_I2C = no;
              SND_SOC_WM8731_SPI = no;
              SND_SOC_WM8737 = no;
              SND_SOC_WM8741 = no;
              SND_SOC_WM8750 = no;
              SND_SOC_WM8753 = no;
              SND_SOC_WM8770 = no;
              SND_SOC_WM8776 = no;
              SND_SOC_WM8782 = no;
              SND_SOC_WM8804_I2C = no;
              SND_SOC_WM8804_SPI = no;
              SND_SOC_WM8903 = no;
              SND_SOC_WM8904 = no;
              SND_SOC_WM8940 = no;
              SND_SOC_WM8960 = no;
              SND_SOC_WM8961 = no;
              SND_SOC_WM8962 = no;
              SND_SOC_WM8974 = no;
              SND_SOC_WM8978 = no;
              SND_SOC_WM8985 = no;
              SND_SOC_WSA881X = no;
              SND_SOC_WSA883X = no;
              SND_SOC_WSA884X = no;
              SND_SOC_XILINX_AUDIO_FORMATTER = no;
              SND_SOC_XILINX_I2S = no;
              SND_SOC_XILINX_SPDIF = no;
              SND_SOC_XTFPGA_I2S = no;
              SND_SOC_ZL38060 = no;
              SND_SONICVIBES = no;
              SND_SST_ATOM_HIFI2_PLATFORM_PCI = no;
              SND_TEST_COMPONENT = no;
              SND_TRIDENT = no;
              SND_USB_6FIRE = no;
              SND_USB_CAIAQ = no;
              SND_USB_HIFACE = no;
              SND_USB_POD = no;
              SND_USB_PODHD = no;
              SND_USB_TONEPORT = no;
              SND_USB_VARIAX = no;
              SND_VIA82XX = no;
              SND_VIA82XX_MODEM = no;
              SND_VIRMIDI = no;
              SND_VIRTUOSO = no;
              SND_VX222 = no;
              SND_YMFPCI = no;
              SND_USB_CAIAQ_INPUT = unset;
              SND_AC97_POWER_SAVE = unset;
              SND_AC97_POWER_SAVE_DEFAULT = unset;
              SND_SOC_SOF_HDA_LINK = unset;
              SND_SOC_SOF_HDA_AUDIO_CODEC = unset;
              SND_SOC_INTEL_SOUNDWIRE_SOF_MACH = unset;

              VIDEO_SOLO6X10 = unset;
              VIDEO_TW5864 = unset;
              VIDEO_TW68 = unset;
              VIDEO_TW686X = unset;
              VIDEO_ZORAN = unset;
              VIDEO_DT3155 = unset;
              VIDEO_IVTV = unset;
              VIDEO_HEXIUM_GEMINI = unset;
              VIDEO_HEXIUM_ORION = unset;
              VIDEO_MXB = unset;
              VIDEO_BT848 = unset;
              VIDEO_CX25821 = unset;
              VIDEO_CX88 = unset;
              VIDEO_SAA7134 = unset;
              VIDEO_IPU3_CIO2 = unset;
              VIDEO_INTEL_IPU6 = unset;
              VIDEO_CADENCE_CSI2RX = unset;
              VIDEO_CADENCE_CSI2TX = unset;
              VIDEO_RP1_CFE = unset;
              VIDEO_IR_I2C = no;
              VIDEO_ALVIUM_CSI2 = no;
              VIDEO_AR0521 = no;
              VIDEO_GC0308 = no;
              VIDEO_GC05A2 = no;
              VIDEO_GC08A3 = no;
              VIDEO_GC2145 = no;
              VIDEO_HI556 = no;
              VIDEO_HI846 = no;
              VIDEO_HI847 = no;
              VIDEO_IMX208 = no;
              VIDEO_IMX214 = no;
              VIDEO_IMX219 = no;
              VIDEO_IMX258 = no;
              VIDEO_IMX274 = no;
              VIDEO_IMX283 = no;
              VIDEO_IMX290 = no;
              VIDEO_IMX296 = no;
              VIDEO_IMX319 = no;
              VIDEO_IMX334 = no;
              VIDEO_IMX335 = no;
              VIDEO_IMX355 = no;
              VIDEO_IMX412 = no;
              VIDEO_IMX415 = no;
              VIDEO_MT9M001 = no;
              VIDEO_MT9M111 = no;
              VIDEO_MT9M114 = no;
              VIDEO_MT9P031 = no;
              VIDEO_MT9T112 = no;
              VIDEO_MT9V011 = no;
              VIDEO_MT9V032 = no;
              VIDEO_MT9V111 = no;
              VIDEO_OG01A1B = no;
              VIDEO_OV01A10 = no;
              VIDEO_OV02A10 = no;
              VIDEO_OV02E10 = no;
              VIDEO_OV02C10 = no;
              VIDEO_OV08D10 = no;
              VIDEO_OV08X40 = no;
              VIDEO_OV13858 = no;
              VIDEO_OV13B10 = no;
              VIDEO_OV2640 = no;
              VIDEO_OV2659 = no;
              VIDEO_OV2680 = no;
              VIDEO_OV2685 = no;
              VIDEO_OV2740 = no;
              VIDEO_OV4689 = no;
              VIDEO_OV5640 = no;
              VIDEO_OV5645 = no;
              VIDEO_OV5647 = no;
              VIDEO_OV5648 = no;
              VIDEO_OV5670 = no;
              VIDEO_OV5675 = no;
              VIDEO_OV5693 = no;
              VIDEO_OV5695 = no;
              VIDEO_OV64A40 = no;
              VIDEO_OV6650 = no;
              VIDEO_OV7251 = no;
              VIDEO_OV7640 = no;
              VIDEO_OV7670 = no;
              VIDEO_OV772X = no;
              VIDEO_OV7740 = no;
              VIDEO_OV8856 = no;
              VIDEO_OV8858 = no;
              VIDEO_OV8865 = no;
              VIDEO_OV9282 = no;
              VIDEO_OV9640 = no;
              VIDEO_OV9650 = no;
              VIDEO_OV9734 = no;
              VIDEO_RDACM20 = no;
              VIDEO_RDACM21 = no;
              VIDEO_RJ54N1 = no;
              VIDEO_S5C73M3 = no;
              VIDEO_S5K5BAF = no;
              VIDEO_S5K6A3 = no;
              VIDEO_VD55G1 = no;
              VIDEO_VD56G3 = no;
              VIDEO_VGXY61 = no;
              VIDEO_CCS = no;
              VIDEO_ET8EK8 = no;
              VIDEO_THP7312 = no;
              VIDEO_AD5820 = no;
              VIDEO_AK7375 = no;
              VIDEO_DW9714 = no;
              VIDEO_DW9719 = no;
              VIDEO_DW9768 = no;
              VIDEO_DW9807_VCM = no;
              VIDEO_ADP1653 = no;
              VIDEO_LM3560 = no;
              VIDEO_LM3646 = no;
              VIDEO_SONY_BTF_MPX = no;
              VIDEO_TDA1997X = no;
              VIDEO_TDA7432 = no;
              VIDEO_TDA9840 = no;
              VIDEO_TEA6415C = no;
              VIDEO_TEA6420 = no;
              VIDEO_TLV320AIC23B = no;
              VIDEO_TVAUDIO = no;
              VIDEO_UDA1342 = no;
              VIDEO_VP27SMPX = no;
              VIDEO_WM8739 = no;
              VIDEO_SAA6588 = no;
              VIDEO_ADV7180 = no;
              VIDEO_ADV7183 = no;
              VIDEO_ADV748X = no;
              VIDEO_ADV7604 = no;
              VIDEO_ADV7842 = no;
              VIDEO_BT819 = no;
              VIDEO_BT856 = no;
              VIDEO_BT866 = no;
              VIDEO_ISL7998X = no;
              VIDEO_LT6911UXE = no;
              VIDEO_KS0127 = no;
              VIDEO_ML86V7667 = no;
              VIDEO_SAA7110 = no;
              VIDEO_TC358743 = no;
              VIDEO_TC358746 = no;
              VIDEO_TVP514X = no;
              VIDEO_TVP5150 = no;
              VIDEO_TVP7002 = no;
              VIDEO_TW2804 = no;
              VIDEO_TW9900 = no;
              VIDEO_TW9903 = no;
              VIDEO_TW9906 = no;
              VIDEO_TW9910 = no;
              VIDEO_VPX3220 = no;
              VIDEO_SAA717X = no;
              VIDEO_ADV7170 = no;
              VIDEO_ADV7175 = no;
              VIDEO_ADV7343 = no;
              VIDEO_ADV7393 = no;
              VIDEO_AK881X = no;
              VIDEO_SAA7127 = no;
              VIDEO_SAA7185 = no;
              VIDEO_THS8200 = no;
              VIDEO_UPD64031A = no;
              VIDEO_UPD64083 = no;
              VIDEO_SAA6752HS = no;
              SDR_MAX2175 = no;
              VIDEO_I2C = no;
              VIDEO_M52790 = no;
              VIDEO_ST_MIPID02 = no;
              VIDEO_THS7303 = no;
              VIDEO_DS90UB913 = no;
              VIDEO_DS90UB953 = no;
              VIDEO_DS90UB960 = no;
              VIDEO_MAX96714 = no;
              VIDEO_MAX96717 = no;
              VIDEO_GS1662 = no;
              VIDEO_GO7007 = no;
              VIDEO_HDPVR = no;
              VIDEO_STK1160 = no;
              VIDEO_EM28XX = no;

              # cleanups
              VIDEO_ADV7511 = unset;
              VIDEO_CS3308 = module;
              VIDEO_CS5345 = module;
              VIDEO_CS53L32A = module;
              VIDEO_CX25840 = module;
              VIDEO_MSP3400 = module;
              VIDEO_SAA711X = module;
              VIDEO_WM8775 = module;

              WLAN_VENDOR_ADMTEK = no;
              WLAN_VENDOR_ATH = no;
              WLAN_VENDOR_ATMEL = no;
              WLAN_VENDOR_BROADCOM = no;
              WLAN_VENDOR_INTEL = no;
              WLAN_VENDOR_INTERSIL = no;
              WLAN_VENDOR_MARVELL = no;
              WLAN_VENDOR_MEDIATEK = no;
              WLAN_VENDOR_MICROCHIP = no;
              WLAN_VENDOR_PURELIFI = no;
              WLAN_VENDOR_QUANTENNA = no;
              WLAN_VENDOR_RALINK = no;
              WLAN_VENDOR_REALTEK = no;
              WLAN_VENDOR_RSI = no;
              WLAN_VENDOR_SILABS = no;
              WLAN_VENDOR_ST = no;
              WLAN_VENDOR_TI = no;
              WLAN_VENDOR_ZYDAS = no;

              RT2800USB_RT53XX = unset;
              RT2800USB_RT55XX = unset;
              RTW88 = unset;
              RTW88_8822BE = unset;
              RTW88_8822CE = unset;

              # Desktop GPUs
              DRM_I915 = no;
              DRM_AMDGPU = no;
              DRM_RADEON = no;
              DRM_NOUVEAU = no;
              DRM_XE = no;
              DRM_MGAG200 = no;

              # SoC GPUs
              DRM_EXYNOS = no;
              DRM_ROCKCHIP = no;
              DRM_KMB_DISPLAY = no;
              DRM_MSM = no;
              DRM_SHMOBILE = no;
              DRM_SUN4I = no;
              DRM_TEGRA = no;
              DRM_STM = no;
              DRM_IMX8_DC = no;
              DRM_IMX_DCSS = no;
              DRM_IMX_LCDC = no;
              DRM_V3D = no;
              DRM_VC4 = no;
              DRM_ETNAVIV = no;
              DRM_HISI_HIBMC = no;
              DRM_HISI_KIRIN = no;
              DRM_LOGICVC = no;
              DRM_MEDIATEK = no;
              DRM_MXSFB = no;
              DRM_IMX_LCDIF = no;
              DRM_MESON = no;
              DRM_ARCPGU = no;
              DRM_SPRD = no;
              DRM_POWERVR = no;

              # Virtualized GPUs
              DRM_VMWGFX = no;
              DRM_QXL = no;
              DRM_BOCHS = no;
              DRM_CIRRUS_QEMU = no;
              DRM_HYPERV = no;

              # Misc
              TEGRA_HOST1X = no;
            }
            |> lib.mapAttrs (_: v: lib.mkDefault v);
        }
        |> lib.mapAttrsToList (
          k: v: {
            name = k;
            patch = null;
            structuredExtraConfig = v;
          }
        );
    };
}
